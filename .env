# ==============================================================================
# Environment Configuration
# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# Docker: uses container name 'postgres'
# Local:  change to 'localhost'
DATABASE_URL="postgresql://postgres:password@postgres:5432/test?schema=public"

# PostgreSQL container settings (used by docker-compose)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=test

# =============================================================================
# Sharding Configuration
# =============================================================================
SHARD_COUNT=3
SHARD_1_URL="postgresql://postgres:password@postgres:5432/shard1?schema=public"
SHARD_2_URL="postgresql://postgres:password@postgres:5432/shard2?schema=public"
SHARD_3_URL="postgresql://postgres:password@postgres:5432/shard3?schema=public"

# Shard Pool Settings
SHARD_POOL_SIZE=10
SHARD_IDLE_TIMEOUT_MS=10000
SHARD_CONNECTION_TIMEOUT_MS=5000
SHARD_HEALTH_CHECK_INTERVAL_MS=30000
SHARD_CIRCUIT_BREAKER_THRESHOLD=3

# Routing Strategy: 'modulo' or 'consistent-hash'
SHARD_ROUTING_STRATEGY=modulo

# =============================================================================
# Redis
# =============================================================================
# Docker: uses container name 'redis'
# Local:  change to 'localhost'
REDIS_HOST=redis
REDIS_PORT=6379

# =============================================================================
# Application
# =============================================================================
PORT=4000
NODE_ENV=development

# =============================================================================
# Security (CHANGE THESE IN PRODUCTION!)
# =============================================================================
# Generate with: openssl rand -base64 32
JWT_SECRET="change-this-to-a-secure-secret-in-production"

# Must be exactly 32 characters
MFA_ENCRYPTION_KEY="A9f3K2mQ7Xc8RZL4pWJ6N0H5sD1EYTUb"

# =============================================================================
# Optional: Email Settings
# =============================================================================
# MAIL_USER=your-email@gmail.com
# MAIL_PASS=your-app-password